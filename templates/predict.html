{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predict || Heart Disease Predictiion</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
    <nav>
        <div class="noncontainer">
            <h3>Heart Disease Prediction</h3>
            <ul>
                <li><a href="#">Home </a> </li>
                <li><a href="#">Predict </a> </li>
                <li><a href="#">About</a> </li>
            </ul>
        </div>
    </nav>
    <div class="formelement">
            <div class="container">
                <header class="header">
                    <h1 id="title" class="text-center">Prediction Input Form</h1>
                    <p id="description" class="text-center fw-normal">
                        Thank you for taking the time to help us improve the platform
                    </p>
                </header>
                <div class="form-wrap p-5">	
                    <form id="survey-form" method="post" action="{% url 'prediction' %}">
                        {% csrf_token %}
                        <div class=" row pb-4">
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="age-label" for="age" class="text pb-2">Age</label>
                                    <input type="number" name="age" id="age" placeholder="Enter Your Age" class="form-control" min="1" max="150" required>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="gender-label" for="gender" class="pb-2 text">Gender</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="gender" required>
                                        <option selected>--Select--</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Non-Binary">Non-Binary</option>
                                      </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class=" row pb-4">
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="chest-pain-label" for="name" class="text pb-2">Chest Pain Type</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="chest-pain-type" required>
                                        <option selected>--Select--</option>
                                        <option value="Typical Angina">Typical Angina</option>
                                        <option value="Atypical Angina">Atypical Angina</option>
                                        <option value="Non-Anginal Pain">Non-Anginal Pain</option>
                                        <option value="Asymptomatic">Asymptomatic</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="bp-label" for="bp" class="text pb-2">Resting Blood Pressure (mm/Hg)</label>
                                    <input type="number" name="bp" id="bp" placeholder="Enter Blood Pressure Value" class="form-control" min="90" max="200" required>
                                </div>
                            </div>
                        </div>

                        <div class=" row pb-4">
                            <div class="col-md-6">
                                <div class="col-md-6">
                                    <div class="form-group text-start">
                                        <label id="bp-label" for="bp" class="text pb-2">Cholestoral (mm/dl)</label>
                                        <input type="number" name="cholestoral" id="cholestoral" placeholder="Enter Cholestoral Value" class="form-control" min="120" max="570" required>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="bp-label" for="bp" class="text pb-2">Fasting Blood Sugar (mg/dl)</label>
                                    <input type="number" name="blood-sugar" id="blood-sugar" placeholder="Enter Blood Sugar Value" class="form-control" min="0" max="300" required>
                                </div>
                            </div>
                        </div>

                        <div class=" row pb-4">
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="electrocardiographic-label" for="name" class="text pb-2">Resting Electrocardiographic Result</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="electrocardiographic" required>
                                        <option selected>--Select--</option>
                                        <option value="Normal">Normal</option>
                                        <option value="Having ST-T wave abnormality (T wave inversions and/or ST elevation or depression of > 0.05 mV)">Having ST-T wave abnormality (T wave inversions and/or ST elevation or depression of > 0.05 mV)</option>
                                        <option value="Showing probable or definite left ventricular hypertrophy by Estes' criteria">Showing probable or definite left ventricular hypertrophy by Estes' criteria</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="heart-rate-label" for="bp" class="text pb-2">Maximum Heart Rate Achieved</label>
                                    <input type="number" name="heart-rate" id="heart-rate" placeholder="Enter Heart Rate Value" class="form-control" min="70" max="210" required>
                                </div>
                            </div>
                        </div>

                        <div class=" row pb-4">
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="exercise-induced-angina-label" for="exercise-induced-angina" class="pb-2 text">Exercise Induced Angina</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="exercise-induced-angina" required>
                                        <option selected>--Select--</option>
                                        <option value="Yes">Yes</option>
                                        <option value="No">No</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="oldpeak-label" for="bp" class="text pb-2">Oldpeak</label>
                                    <input type="number" name="oldpeak" id="oldpeak" placeholder="Enter Oldpeak Value" class="form-control" min="0.1" max="10.0" step="0.1" required>
                                </div>
                            </div>
                        </div>

                        <div class=" row pb-4">
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="slope-label" for="slope" class="pb-2 text">Slope</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="slope" required>
                                        <option selected>--Select--</option>
                                        <option value="Up-Sloping">Up-Sloping</option>
                                        <option value="Flat">Flat</option>
                                        <option value="Down-Sloping">Down-Sloping</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="major-vessels-label" for="major-vessels" class="pb-2 text">No.of Major Vessels</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="major-vessels" required>
                                        <option selected>--Select--</option>
                                        <option value="0">0</option>
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                      </select>
                                </div>
                            </div>
                        </div>

                        <div class=" row">
                            <div class="col-md-6">
                                <div class="form-group text-start">
                                    <label id="thal-rate-label" for="thal-rate" class="pb-2 text">Thal Rate</label>
                                    <select class="form-select" aria-label="Default select example" aria-placeholder="--Select--" name="thal-rate" required>
                                        <option selected>--Select--</option>
                                        <option value="Normal">Normal</option>
                                        <option value="Fixed Defect">Fixed Defect</option>
                                        <option value="Reversable Defect">Reversable Defect</option>
                                      </select>
                                </div>
                            </div>
                            <div class="col-md-6 text-end">
                                <button class="predict-btn" type="submit">Predict</button>
                                <button class="clear-btn" type="submit">Clear</button>
                            </div>
                        </div>
                        
            
                    </form>
                </div>	
            </div>
                    
    </form>
    </div>
    {% if prediction == "no" %}
  <div class="overlay" data-aos="fade-down" id="successOverlay">
    <div class="popup popup-success bg-success">
        <p>Patient Has Heart Disease</p>
        <button class="close-btn" onclick="closePopup('successOverlay')">Close</button>
    </div>
  </div>

  <script>
      // Function to display the success overlay
      function showSuccessOverlay() {
          var overlay = document.getElementById('successOverlay');
          overlay.style.display = 'flex';

          // Hide the overlay after 5 seconds
          setTimeout(function() {
              overlay.style.display = 'none';
          }, 5000);
      }

      // Function to close the overlay
      function closePopup(overlayId) {
          document.getElementById(overlayId).style.display = 'none';
      }

      // Show success overlay on page load
      window.onload = showSuccessOverlay;
  </script>
  {% endif %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>




